<!--
    Produces: 'items' for images
    Needs: a request context 'drawer', containing a listcontainer 'query'.
-->
<mm:context
    xmlns:jsp="http://java.sun.com/JSP/Page" 
    xmlns:mm="http://www.mmbase.org/mmbase-taglib-2.0" 
    id="drawer" scope="request">
  <jsp:output omit-xml-declaration="yes" />
  <mm:import externid="kupubasedir" />
  <mm:content type="text/xml">
    <mm:listnodescontainer referid="query">
      <items>
        <mm:listnodes id="text">
          <mm:nodeinfo type="nodemanager" id="nm" write="false" />
          <resource id="${text.number}">          
            <mm:log><jsp:expression>request.getAttribute("javax.servlet.include.servlet_path")</jsp:expression></mm:log>
            <uri><mm:url page="/mmbase/${nm}/${text.number}" /></uri>
            <title><mm:function name="gui" write="true"><mm:isempty><mm:field name="number" /></mm:isempty></mm:function></title>
            <description><mm:nodeinfo type="guitype" />: <mm:function name="gui" /></description>
            <icon>${kupubasedir}/common/kupuimages/document.png</icon>
          </resource>
        </mm:listnodes>
      </items>
    </mm:listnodescontainer>
  </mm:content>
</mm:context>
