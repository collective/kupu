<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:define="kupu here/kupu; 
                  macros kupu/kupumacros/macros;
                  kupu_url kupu/absolute_url;
                  document_url here/REQUEST/URL1">

  <!--
   Create a 'kupu editor' object in the folder where you want to
   enable visual editing with kupu. Call it 'kupu' (you can call it
   something else, but this template relies on this name being
   'kupu'). Add a Page Template next to the kupu object and copy the
   contents of this file into it. Call the Page Template 'kupu_edit'
   or something like that. You can now point your browser at any object's
   URL, append '/kupu_edit' and you will be able to edit the object
   with kupu.

   Note: kupumacros requires kupu_url to be defined.
   -->

  <head>
    <title>Kupu Editor example template</title>

    <!-- include the standard scripts/stylesheets -->
    <metal:macro metal:use-macro="macros/head">
    </metal:macro>

  </head>

  <body onload="kupu = startKupu();">

    <!-- include the xmlconfig -->
    <metal:macro metal:use-macro="macros/xmlconfig">
      <metal:slot fill-slot="dst"><tal:block replace="document_url" /></metal:slot>
    </metal:macro>

    <!-- include the fulleditor -->
    <div class="kupu-fulleditor" metal:use-macro="macros/fulleditor">
      <!-- 
      you can fiddle with slots in this macro to add/remove/change
      functionality, but anything more than minor changes here will also
      require your own startKupu() and initKupu() alternatives to match
      the slot changes.
      -->
      <iframe metal:fill-slot="editorframe"
              id="kupu-editor"
              src=""
              tal:attributes="src document_url;"
              frameborder="0"
              scrolling="auto"
              ></iframe>
    </div>
  </body>
</html>
