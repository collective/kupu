<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      >
  <head>
    <title>Test Editor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <metal:css define-macro="kupu_styles">
      <link href="kupustyles.css" rel="stylesheet" type="text/css" />
      <link href="kupucustom.css" rel="stylesheet" type="text/css" />
    </metal:css>
   
    <metal:jsmacro define-macro="kupu_jsincludes" tal:omit-tag="">
      <metal:slot define-slot="jsincludes">
        <script type="text/javascript" src="sarissa.js"> </script>
        <script type="text/javascript" src="kupuhelpers.js"> </script>
        <script type="text/javascript" src="kupueditor.js"> </script>
        <script type="text/javascript" src="kupubasetools.js"> </script>
        <script type="text/javascript" src="kupuloggers.js"> </script>
        <script type="text/javascript" src="kupucontentfilters.js"> </script>
        <script type="text/javascript" src="kupucontextmenu.js"> </script>
        <script type="text/javascript" src="kupuinspector.js"> </script>
        <script type="text/javascript" src="kupuinit_experimental.js"> </script>
      </metal:slot>
      <metal:script define-slot="extra_scripts" />
    </metal:jsmacro>
    
    <metal:startjs define-macro="kupu_startjs">
      <metal:slot define-slot="startjs">
        <script type="text/javascript">
            
            var kupu = null;
            var kupuui = null;
            function startKupu() {
                var frame = document.getElementById('kupu-editor'); 
                kupu = initKupu(frame); 
                kupuui = kupu.getTool('ui'); 
                kupu.initialize();
            };
            
        </script>
      </metal:slot>
    </metal:startjs>
    
  </head>
  <body onload="startKupu()">
    <h1>Kupu Editor Test Page</h1>

    <div class="kupu-fulleditor">
      <div metal:define-macro="kupu_fulleditor">

        <!-- Start toolbar -->
        <metal:toolbar metal:define-slot="kupu_toolbar_slot">
        <div class="kupu-tb" id="toolbar" metal:define-macro="kupu_toolbar">
          <span id="kupu-tb-buttons">
            <metal:slot define-slot="buttongroup_logo">
                <span class="kupu-tb-buttongroup" style="float: right">
                  <button type="button" class="kupu-logo" title="Kupu 1.0.3"
                          i18n:attributes="title"
                          onclick="window.open('http://kupu.oscom.org');">&nbsp;</button>
                </span>
            </metal:slot>
            <metal:slot define-slot="tb_select_styles">
              <select id="kupu-tb-styles"
                      onchange="kupuui.setTextStyle(this.options[this.selectedIndex].value);">
                <option value="P" i18n:translate="paragraph-normal">
                  Normal
                </option>
                <option value="H1">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 1
                </option>
                <option value="H2">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 2
                </option>
                <option value="H3">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 3
                </option>
                <option value="H4">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 4
                </option>
                <option value="H5">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 5
                </option>
                <option value="H6">
                  <span tal:omit-tag="" i18n:translate="heading">Heading</span> 6
                </option>
                <option value="PRE" i18n:translate="paragraph-formatted">
                  Formatted
                </option>
              </select>
            </metal:slot>
            <metal:slot define-slot="buttongroup_save"> 
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-save" title="Save"
                        onclick="kupuui.saveButtonHandler()">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_basicmarkup">
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-bold" title="Bold"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('bold');">&nbsp;</button>
                <button type="button" class="kupu-italic" title="Italic"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('italic');">&nbsp;</button>
                <button type="button" class="kupu-underline" title="Underline"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('underline');">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_subsuper">
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-subscript" title="Subscript"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('subscript');">&nbsp;</button>
                <button type="button" class="kupu-superscript" title="Superscript"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('superscript');">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_color">
              <span class="kupu-tb-buttongroup">
                <!-- Note: the event handlers are attached to these
                     buttons dynamically, like for tools -->
                <button type="button" class="kupu-forecolor" id="kupu-forecolor"
                        title="Text Color"
                        i18n:attributes="title">&nbsp;</button>
                <button type="button" class="kupu-hilitecolor" id="kupu-hilitecolor"
                        title="Background Color"
                        i18n:attributes="title">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_justify">
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-justifyleft" title="Left Justify"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('justifyleft');">&nbsp;</button>
                <button type="button" class="kupu-justifycenter" title="Center"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('justifycenter');">&nbsp;</button>
                <button type="button" class="kupu-justifyright" title="Right Justify"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('justifyright');">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_list">
              <span class="kupu-tb-buttongroup">
                <!-- list button events are set on the list tool -->
                <button type="button" class="kupu-insertorderedlist" title="Numbered List"
                        id="kupu-list-ol-addbutton" i18n:attributes="title">&nbsp;</button>
                <button type="button" class="kupu-insertunorderedlist" title="Unordered List"
                        id="kupu-list-ul-addbutton" i18n:attributes="title">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_indent">
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-outdent" title="Outdent"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('outdent');">&nbsp;</button>
                <button type="button" class="kupu-indent" title="Indent"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('indent');">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:slot define-slot="buttongroup_undo">
              <span class="kupu-tb-buttongroup">
                <button type="button" class="kupu-undo" title="Undo"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('undo');">&nbsp;</button>
                <button type="button" class="kupu-redo" title="Redo"
                        i18n:attributes="title"
                        onclick="kupuui.basicButtonHandler('redo');">&nbsp;</button>
              </span>
            </metal:slot>
            <metal:buttons define-slot="extra_buttons" />
          </span>
            <metal:slot define-slot="tb_select_listitem">
              <select id="kupu-ulstyles">
                <option value="disc" i18n:translate="list-disc">&#9679;</option>
                <option value="square" i18n:translate="list-square">&#9632;</option>
                <option value="circle" i18n:translate="list-circle">&#9675;</option>
                <option value="none" i18n:translate="list-nobullet">no bullet</option>
              </select>
              <select id="kupu-olstyles">
                <option value="decimal" 
                        i18n:translate="list-decimal">1</option>
                <option value="upper-roman" 
                        i18n:translate="list-upperroman">I</option>
                <option value="lower-roman" 
                        i18n:translate="list-lowerroman">i</option>
                <option value="upper-alpha" 
                        i18n:translate="list-upperalpha">A</option>
                <option value="lower-alpha" 
                        i18n:translate="list-loweralpha">a</option>
              </select>
            </metal:slot>
          <metal:toolbar define-slot="extra_toolbar" />
        </div>
      </metal:toolbar>
      <!-- end toolbar -->

        <metal:toolboxes define-slot="kupu_toolboxes_slot">
        <div class="kupu-toolboxes" metal:define-macro="kupu_toolboxes">

          <div class="kupu-toolbox" id="kupu-toolbox-inspector" 
                metal:define-slot="kupu_toolbox_inspector">
            <!-- start kupu inspector -->
            
            <h1>Inspector</h1>

            <table id="kupu-inspector" width="100%">
              <tbody>
                <tr>
                  <td align="center">
                    <form method="post" action="#" onsubmit="return false;" id="kupu-inspector-form">
                    </form>
                  </td>
                </tr>
              </tbody>
            </table>
            
            <!-- end kupu inspector -->
          </div>

          <div class="kupu-toolbox" id="kupu-toolbox-extra">
            <!-- start kupu toolbox extra -->

            <metal:toolbox define-slot="extra_toolbox" />

            <!-- end kupu toolbox extra -->
          </div>

          <div class="kupu-toolbox" id="kupu-toolbox-debug"
                metal:define-slot="kupu_toolbox_debug">
            <!-- start kupu toolbox debug -->
            <h1 i18n:translate="debug-log">Debug Log</h1>

            <div id="kupu-toolbox-debuglog" class="kupu-toolbox-label" style="height: 150px;">
            </div>

            <!-- end kupu toolbox debug -->
          </div>

        </div>
        </metal:toolboxes>

        <!-- End toolboxes  -->

        <table id="kupu-colorchooser" cellpadding="0" cellspacing="0"
               style="position: fixed; border-style: solid;
                      border-color: black; border-width: 1px;"
               metal:define-macro="kupu_colorchoosertable"></table>
              
        <div class="kupu-editorframe" metal:define-slot="kupu_editorframe">
          <iframe id="kupu-editor" 
                  frameborder="0" 
                  src="fulldoc.html"
                  dst="fulldoc.html"
                  reloadsrc="0" 
                  usecss="1"
                  strict_output="1"
                  content_type="application/xhtml+xml"
                  metal:define-macro="kupu_editorframe"
                  scrolling="auto"
                  ></iframe>

        </div>
      </div>

    </div>
  </body>
</html>
